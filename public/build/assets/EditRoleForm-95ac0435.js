import{r as x,T as y,o as l,g as i,a as s,t as d,b as o,u as t,F as b,h as g,w as f,k as h,l as k,j as S,f as V}from"./app-ec8b9ce4.js";import{_ as j,a as I,b as P}from"./TextInput-e66e4902.js";import{P as $}from"./PrimaryButton-b3d0a216.js";import{_ as w}from"./Checkbox-4fba078f.js";import"./_plugin-vue_export-helper-c27b6911.js";const B={class:"text-lg font-medium text-gray-900"},N=["onSubmit"],O={class:"flex items-center"},T={class:"ml-2 text-sm text-gray-600"},E={class:"flex items-center gap-4"},F={key:0,class:"text-sm text-gray-600"},L={__name:"EditRoleForm",props:{permissions:Array,rolePermissions:Object,role:Object,translations:Object},setup(u){const n=u,p=x(null),e=y({_method:"PUT",name:n.role.name,permissionIds:Object.values(n.rolePermissions)}),_=()=>{e.post(route("roles.update",n.role.id),{preserveScroll:!0,onSuccess:()=>e.reset(),onError:()=>{e.errors.name&&(console.log("error"),p.value.focus())}})},c=(m,r)=>n.translations[m]||m;return(m,r)=>(l(),i("section",null,[s("header",null,[s("h2",B,d(c("edit"))+" "+d(c("role")),1)]),s("form",{onSubmit:k(_,["prevent"]),class:"mt-6 space-y-6"},[s("div",null,[o(j,{for:"name",value:`${c("roles")}`},null,8,["value"]),o(I,{id:"name",ref_key:"nameInput",ref:p,modelValue:t(e).name,"onUpdate:modelValue":r[0]||(r[0]=a=>t(e).name=a),type:"text",class:"mt-1 block w-full",autocomplete:"names"},null,8,["modelValue"]),o(P,{message:t(e).errors.name,class:"mt-2"},null,8,["message"])]),(l(!0),i(b,null,g(u.permissions,a=>(l(),i("div",{key:a.id,class:"col-span-6 sm:col-span-4"},[s("label",O,[o(w,{checked:t(e).permissionIds,"onUpdate:checked":r[1]||(r[1]=v=>t(e).permissionIds=v),id:a.id,value:a.id},null,8,["checked","id","value"]),s("span",T,d(a.name),1)])]))),128)),s("div",E,[o($,{disabled:t(e).processing},{default:f(()=>[S("Save")]),_:1},8,["disabled"]),o(h,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:f(()=>[t(e).recentlySuccessful?(l(),i("p",F,"Saved.")):V("",!0)]),_:1})])],40,N)]))}};export{L as default};
